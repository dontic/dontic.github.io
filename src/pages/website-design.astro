---
import avatarImage from '~/assets/images/avatar.jpeg';
import { Image } from 'astro:assets';
import Layout from '~/layouts/Layout.astro';
import { Icon } from 'astro-icon/components';

// Import website design examples
import miseoImage from '~/assets/images/website-design/miseo.png';
import danielImage from '~/assets/images/website-design/daniel.png';
import estaviaImage from '~/assets/images/website-design/estavia.png';
import autoipcImage from '~/assets/images/website-design/autoipc.png';
import saracarviaImage from '~/assets/images/website-design/saracarvia.png';

// Gallery data
const websiteGallery = [
  {
    image: danielImage,
    alt: 'Daniel Portfolio Design',
    title: 'Daniel Portfolio',
    description: 'Personal portfolio website',
  },
  {
    image: autoipcImage,
    alt: 'AutoIPC Website Design',
    title: 'AutoIPC',
    description: 'Corporate website',
  },
  {
    image: estaviaImage,
    alt: 'Estavia Website Design',
    title: 'Estavia',
    description: 'E-commerce platform',
  },
  {
    image: miseoImage,
    alt: 'Miseo Website Design',
    title: 'Miseo',
    description: 'Modern business website',
  },
];
---

<Layout>
  <section id="hero" class="relative overflow-hidden rounded-2xl dark:bg-black/30">
    <!-- subtle grid bg -->
    <div
      aria-hidden="true"
      class="absolute inset-0 -z-10"
      style="background-image: linear-gradient(to right, rgba(0,0,0,.05) 1px, transparent 1px), linear-gradient(to bottom, rgba(0,0,0,.05) 1px, transparent 1px); background-size: 28px 28px; mask-image: linear-gradient(to bottom, black, transparent);"
    >
    </div>

    <div class="mt-12 px-6 py-16 sm:py-24 text-center">
      <!-- avatar with concentric ring -->
      <div class="mx-auto mb-8 h-32 w-32" id="hero-avatar">
        <a
          href="https://cal.com/onticdani/website-design"
          target="_blank"
          class="relative h-full w-full cursor-pointer group block"
          data-tooltip="Available for a call"
        >
          <!-- Pulsating rings -->
          <div id="pulse-ring-1" class="absolute inset-0 rounded-full ring-8 ring-emerald-300 opacity-0"></div>
          <!-- <div id="pulse-ring-2" class="absolute inset-0 rounded-full ring-8 ring-emerald-300 opacity-0"></div> -->

          <!-- Main avatar with ring -->
          <div class="relative h-full w-full rounded-full bg-white dark:bg-black p-1 ring-8 ring-emerald-400">
            <Image
              src={avatarImage}
              alt="Headshot"
              class="rounded-full object-cover ring-1 ring-gray-200"
              width={200}
              height={200}
            />
          </div>

          <!-- Tooltip -->
          <div
            class="tooltip absolute -bottom-12 left-1/2 transform -translate-x-1/2 bg-black dark:bg-white text-white dark:text-black px-3 py-2 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"
          >
            Available for a call
            <div class="absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-black dark:bg-white rotate-45">
            </div>
          </div>
        </a>
      </div>

      <h1 id="hero-title" class="mx-auto max-w-2xl text-4xl md:text-6xl font-medium leading-tight tracking-tight">
        Want a modern, responsive website?
      </h1>

      <p id="hero-subtitle" class="mx-auto mt-6 max-w-2xl text-xl text-default">
        I help companies, brands and individuals build their website from scratch or improve their existing one.
      </p>

      <div class="mt-10 flex flex-col sm:flex-row gap-4 justify-center" id="hero-buttons">
        <a
          href="https://cal.com/onticdani/website-design"
          target="_blank"
          id="book-call-btn"
          class="cta-button-primary relative inline-flex items-center justify-center rounded-full overflow-hidden px-8 py-4 text-lg font-semibold shadow-md hover:shadow-xl transition-shadow duration-300"
        >
          <span class="relative z-10 text-white">Book a call</span>
        </a>

        <a
          href="#pricing"
          id="view-pricing-btn"
          class="cta-button-secondary relative inline-flex items-center justify-center rounded-full overflow-hidden border border-black/10 dark:border-white/20 px-8 py-4 text-lg font-semibold shadow-md hover:shadow-xl transition-shadow duration-300"
        >
          <span class="relative z-10 text-black dark:text-white">View pricing</span>
        </a>
      </div>
    </div>
  </section>

  <!-- Scrollable Gallery Section -->
  <section class="mt-12" id="gallery-section">
    <div class="relative overflow-hidden">
      <!-- Scrollable container -->
      <div class="overflow-x-auto pb-4 scrollbar-hide scroll-smooth px-20">
        <div class="flex gap-6" id="gallery-scroll">
          {
            websiteGallery.map((item) => (
              <div class="flex-none mb-20">
                <div class="group relative overflow-hidden rounded-2xl border border-black/5 dark:border-white/10 bg-white/70 dark:bg-black/30 shadow-lg hover:shadow-2xl transition-all duration-300 h-[512px] sm:h-[512px]">
                  <Image src={item.image} alt={item.alt} class="h-full w-auto object-contain" />
                  <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity duration-300">
                    <div class="absolute bottom-0 left-0 right-0 p-6">
                      <h3 class="text-white text-xl font-semibold">{item.title}</h3>
                      <p class="text-white/80 text-sm mt-1">{item.description}</p>
                    </div>
                  </div>
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonial Section -->
  <section class="mt-12" id="testimonial-section" data-fade-up>
    <div
      class="relative overflow-hidden rounded-2xl border border-black/5 dark:border-white/10 bg-white/70 dark:bg-black/30 px-6 py-16 sm:py-20"
    >
      <div class="mx-auto max-w-3xl text-center">
        <blockquote class="text-xl sm:text-2xl font-normal text-default leading-relaxed">
          "<b>Daniel has nailed my website design.</b>
          <br /> After I struggled with a wordpress agency for years, he was able to design a website that is not only beautiful,
          but also functional and easy to maintain."
        </blockquote>

        <div class="mt-8 flex items-center justify-center gap-4">
          <Image
            src={saracarviaImage}
            alt="Sara Carvia"
            class="h-12 w-12 rounded-full object-cover ring-2 ring-gray-200"
            width={48}
            height={48}
          />
          <div class="text-left">
            <div class="text-gray-500">
              <a
                href="https://www.instagram.com/saracarvia/"
                target="_blank"
                class="hover:underline hover:text-default animate-underline">Sara Carvia</a
              >, Fitness Influencer
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Product Cycle Section -->
  <section class="mt-12" id="product-cycle-section" data-fade-up>
    <div class="relative overflow-hidden rounded-2xl bg-white/70 dark:bg-black/30 px-6 py-16 sm:py-20">
      <div class="mx-auto max-w-5xl">
        <!-- Title and subtitle -->
        <div class="text-center mb-16">
          <h2 class="text-3xl sm:text-4xl md:text-5xl font-medium leading-tight tracking-tight">
            Here for you. Along the whole product cycle
          </h2>
          <p class="mt-6 text-lg sm:text-xl text-default max-w-3xl mx-auto">
            Design is more than just deliverables. I'll be with you throughout the product cycle, supporting at every
            step.
          </p>
        </div>

        <!-- Grid of cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Shaping & Vision -->
          <div
            class="rounded-2xl border border-black/5 dark:border-white/10 bg-white/50 dark:bg-black/20 p-8 hover:shadow-lg transition-shadow duration-300"
            data-fade-up
          >
            <div class="flex items-start gap-4">
              <div class="flex-shrink-0 text-3xl text-red-600">T</div>
              <div>
                <h3 class="text-xl font-semibold mb-3">Shaping & Vision</h3>
                <p class="text-default leading-relaxed">
                  I'll be your sparring partner in refining your product vision. If you already have a clear plan, we'll
                  jump straight into execution.
                </p>
              </div>
            </div>
          </div>

          <!-- Product Design -->
          <div
            class="rounded-2xl bg-white/50 dark:bg-black/20 p-8 hover:shadow-lg transition-shadow duration-300"
            data-fade-up
          >
            <div class="flex items-start gap-4">
              <div class="flex-shrink-0 text-3xl text-green-600">âœ¨</div>
              <div>
                <h3 class="text-xl font-semibold mb-3">Product Design</h3>
                <p class="text-default leading-relaxed">
                  Whether it's mobile apps, web apps, or a high-converting landing page, I'll be there to help bring
                  your vision to life.
                </p>
              </div>
            </div>
          </div>

          <!-- Iterations & Tradeoffs -->
          <div
            class="rounded-2xl bg-white/50 dark:bg-black/20 p-8 hover:shadow-lg transition-shadow duration-300"
            data-fade-up
          >
            <div class="flex items-start gap-4">
              <div class="flex-shrink-0 text-3xl text-blue-600">ðŸ’»</div>
              <div>
                <h3 class="text-xl font-semibold mb-3">Iterations & Tradeoffs</h3>
                <p class="text-default leading-relaxed">
                  Product design is an ongoing process. I'll help make adjustments so your product resonates with users
                  and achieves its business goal.
                </p>
              </div>
            </div>
          </div>

          <!-- Implementation -->
          <div
            class="rounded-2xl bg-white/50 dark:bg-black/20 p-8 hover:shadow-lg transition-shadow duration-300"
            data-fade-up
          >
            <div class="flex items-start gap-4">
              <div class="flex-shrink-0 text-3xl text-pink-600">ðŸš©</div>
              <div>
                <h3 class="text-xl font-semibold mb-3">Implementation</h3>
                <p class="text-default leading-relaxed">
                  Design starts when you ship. I'll collaborate with your developers to ensure a smooth implementation
                  whenever needed.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- How It Works Section -->
  <section class="mt-12" id="how-it-works-section" data-fade-up>
    <div class="relative mx-auto max-w-5xl overflow-hidden rounded-2xl bg-black dark:bg-gray-950 px-6 py-16 sm:py-20">
      <!-- subtle grid bg -->
      <div
        aria-hidden="true"
        class="absolute inset-0"
        style="background-image: linear-gradient(to right, rgba(255,255,255,.06) 1px, transparent 1px), linear-gradient(to bottom, rgba(255,255,255,.06) 1px, transparent 1px); background-size: 24px 24px;"
      >
      </div>
      <div class="relative mx-auto">
        <!-- Top label -->
        <div class="text-center mb-6">
          <p class="text-gray-400 text-sm sm:text-base font-medium">Skip the long onboarding process</p>
        </div>

        <!-- Main headline -->
        <h2
          class="text-center text-3xl sm:text-4xl md:text-5xl font-medium leading-tight tracking-tight text-white mb-16"
        >
          High quality design. Without all the hassle
        </h2>

        <!-- Steps grid -->
        <div class="flex flex-col gap-8 max-w-2xl mx-auto">
          <!-- Step 1: Schedule an intro -->
          <div class="flex gap-4">
            <div class="flex-shrink-0">
              <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center">
                <Icon name="tabler:clock" class="w-5 h-5 text-white" />
              </div>
            </div>
            <div>
              <h3 class="text-white text-lg sm:text-xl font-semibold mb-2">Schedule an intro</h3>
              <p class="text-gray-400 leading-relaxed">Tell me about your project and how I can help</p>
            </div>
          </div>

          <!-- Step 2: Get your first designs within 48h -->
          <div class="flex gap-4" data-fade-up>
            <div class="flex-shrink-0">
              <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center">
                <Icon name="tabler:message-circle" class="w-5 h-5 text-white" />
              </div>
            </div>
            <div>
              <h3 class="text-white text-lg sm:text-xl font-semibold mb-2">Get your first designs within 48h</h3>
              <p class="text-gray-400 leading-relaxed">Offload your design tasks and let me take care of them</p>
            </div>
          </div>

          <!-- Step 3: Iterate until you're satisfied -->
          <div class="flex gap-4" data-fade-up>
            <div class="flex-shrink-0">
              <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center">
                <Icon name="tabler:refresh" class="w-5 h-5 text-white" />
              </div>
            </div>
            <div>
              <h3 class="text-white text-lg sm:text-xl font-semibold mb-2">Iterate until you're satisfied</h3>
              <p class="text-gray-400 leading-relaxed">I'll revise the designs until you're 100% satisfied.</p>
            </div>
          </div>

          <!-- Step 4: Rinse and repeat -->
          <div class="flex gap-4" data-fade-up>
            <div class="flex-shrink-0">
              <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center">
                <Icon name="tabler:repeat" class="w-5 h-5 text-white" />
              </div>
            </div>
            <div>
              <h3 class="text-white text-lg sm:text-xl font-semibold mb-2">Rinse and repeat</h3>
              <p class="text-gray-400 leading-relaxed">Once the design task is done, you can request a new one.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section -->
  <section class="mt-12" id="benefits-section" data-fade-up>
    <div class="relative overflow-hidden rounded-2xl bg-white/70 dark:bg-black/30 px-6 py-16 sm:py-20">
      <div class="mx-auto max-w-5xl">
        <!-- Grid of 3 columns -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12">
          <!-- Async first -->
          <div class="text-center">
            <div class="flex justify-center mb-6">
              <Icon name="tabler:message-circle-2" class="w-12 h-12 text-default" />
            </div>
            <h3 class="text-xl sm:text-2xl font-medium mb-4">Async first</h3>
            <p class="text-default text-base sm:text-lg">Slack, Loom & the occasional call</p>
          </div>

          <!-- Pause any time -->
          <div class="text-center">
            <div class="flex justify-center mb-6">
              <Icon name="tabler:player-pause" class="w-12 h-12 text-default" />
            </div>
            <h3 class="text-xl sm:text-2xl font-medium mb-4">Pause any time</h3>
            <p class="text-default text-base sm:text-lg">Adjust to your design needs</p>
          </div>

          <!-- One task at a time -->
          <div class="text-center">
            <div class="flex justify-center mb-6">
              <Icon name="tabler:clock-hour-4" class="w-12 h-12 text-default" />
            </div>
            <h3 class="text-xl sm:text-2xl font-medium mb-4">One task at a time</h3>
            <p class="text-default text-base sm:text-lg">48h turnover time</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonial Section -->
  <section class="mt-12" id="testimonial2-section" data-fade-up>
    <div
      class="relative overflow-hidden rounded-2xl border border-black/5 dark:border-white/10 bg-white/70 dark:bg-black/30 px-6 py-16 sm:py-20"
    >
      <div class="mx-auto max-w-3xl text-center">
        <blockquote class="text-xl sm:text-2xl font-normal text-default leading-relaxed">
          "<b>Daniel is a great designer.</b>
          <br /> He is very responsive and has a great eye for detail. I would recommend him to anyone looking for a designer."
        </blockquote>

        <div class="mt-8 flex items-center justify-center gap-4">
          <Image
            src={avatarImage}
            alt="Daniel"
            class="h-12 w-12 rounded-full object-cover ring-2 ring-gray-200"
            width={48}
            height={48}
          />
          <div class="text-left">
            <div class="text-gray-500">
              <a
                href="https://www.instagram.com/onticdani/"
                target="_blank"
                class="hover:underline hover:text-default animate-underline">Daniel</a
              >, Software Engineer
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Pricing Section -->
  <section class="mt-12" id="pricing">
    <div class="relative overflow-hidden rounded-2xl bg-white/70 dark:bg-black/30 px-6 py-16 sm:py-20">
      <div class="mx-auto max-w-6xl">
        <!-- Header -->
        <div class="text-center mb-16">
          <h2 class="text-3xl sm:text-4xl md:text-5xl font-medium leading-tight tracking-tight mb-6" data-fade-up>
            Get started today. Receive your first designs tomorrow.
          </h2>
          <p class="text-lg text-default" data-fade-up>It's as simple as that.</p>
        </div>

        <!-- Pricing Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto">
          <!-- Standard Plan -->
          <div
            class="rounded-2xl border border-black/5 dark:border-white/10 bg-white/50 dark:bg-black/20 p-8 sm:p-10 flex flex-col"
          >
            <div class="mb-8">
              <h3 class="text-xl font-medium mb-6" data-fade-up>Design Partner Standard</h3>
              <div class="flex items-baseline gap-2 mb-6" data-fade-up>
                <span class="text-5xl font-medium">â‚¬6,495</span>
                <span class="text-default">per month</span>
              </div>
              <p class="text-default leading-relaxed" data-fade-up>
                No complicated contracts, no hidden costs â€” just quality design whenever you need it.
              </p>
            </div>

            <div class="space-y-4 mb-8 flex-grow">
              <div class="flex items-start gap-3" data-fade-up>
                <span class="text-xl flex-shrink-0">+</span>
                <span>1 request at a time</span>
              </div>
              <div class="flex items-start gap-3" data-fade-up>
                <span class="text-xl flex-shrink-0">+</span>
                <span>48h turnover time</span>
              </div>
              <div class="flex items-start gap-3" data-fade-up>
                <span class="text-xl flex-shrink-0">+</span>
                <span>3+ updates per week</span>
              </div>
              <div class="flex items-start gap-3" data-fade-up>
                <span class="text-xl flex-shrink-0">+</span>
                <span>Private Slack channel</span>
              </div>
              <div class="flex items-start gap-3" data-fade-up>
                <span class="text-xl flex-shrink-0">+</span>
                <span>Pause or cancel anytime</span>
              </div>
            </div>

            <a
              href="https://cal.com/onticdani/website-design"
              target="_blank"
              class="block w-full text-center bg-black dark:bg-white text-white dark:text-black py-4 px-8 rounded-full font-semibold hover:shadow-xl transition-shadow duration-300"
              data-fade-up
            >
              Subscribe
            </a>
          </div>

          <!-- Pro Plan -->
          <div
            class="rounded-2xl border border-black/5 dark:border-white/10 bg-white/50 dark:bg-black/20 p-8 sm:p-10 flex flex-col"
          >
            <div class="mb-8">
              <h3 class="text-xl font-medium mb-6" data-fade-up>Design Partner Pro</h3>
              <div class="flex items-baseline gap-2 mb-6" data-fade-up>
                <span class="text-5xl font-medium">â‚¬9,495</span>
                <span class="text-default">per month</span>
              </div>
              <p class="text-default leading-relaxed" data-fade-up>
                No complicated contracts, no hidden costs â€” just quality design whenever you need it.
              </p>
            </div>

            <div class="space-y-4 mb-8 flex-grow">
              <div class="flex items-start gap-3" data-fade-up>
                <span class="text-xl flex-shrink-0">+</span>
                <span>1 request at a time</span>
              </div>
              <div class="flex items-start gap-3" data-fade-up>
                <span class="text-xl flex-shrink-0">+</span>
                <span>24h turnover time</span>
              </div>
              <div class="flex items-start gap-3" data-fade-up>
                <span class="text-xl flex-shrink-0">+</span>
                <span>4+ updates per week</span>
              </div>
              <div class="flex items-start gap-3" data-fade-up>
                <span class="text-xl flex-shrink-0">+</span>
                <span>Private Slack channel</span>
              </div>
              <div class="flex items-start gap-3" data-fade-up>
                <span class="text-xl flex-shrink-0">+</span>
                <span>Pause or cancel anytime</span>
              </div>
            </div>

            <a
              href="https://cal.com/onticdani/website-design"
              target="_blank"
              class="block w-full text-center bg-black dark:bg-white text-white dark:text-black py-4 px-8 rounded-full font-semibold hover:shadow-xl transition-shadow duration-300"
              data-fade-up
            >
              Subscribe
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <style>
    @keyframes gradient-shift {
      0%,
      100% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
    }

    .cta-button-primary {
      background: black;
    }

    :root.dark .cta-button-primary {
      background: white;
    }

    .cta-button-primary::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(45deg, #10b981, #3b82f6, #8b5cf6, #ec4899, #10b981);
      background-size: 300% 300%;
      animation: gradient-shift 6s ease infinite;
      z-index: 0;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .cta-button-primary:hover::before {
      opacity: 1;
    }

    .cta-button-secondary::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(
        45deg,
        rgba(16, 185, 129, 0.2),
        rgba(59, 130, 246, 0.2),
        rgba(139, 92, 246, 0.2),
        rgba(236, 72, 153, 0.2),
        rgba(16, 185, 129, 0.2)
      );
      background-size: 300% 300%;
      animation: gradient-shift 6s ease infinite;
      z-index: 0;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .cta-button-secondary {
      background: rgba(255, 255, 255, 0.7);
    }

    :root.dark .cta-button-secondary {
      background: transparent;
    }

    .cta-button-secondary:hover::before {
      opacity: 1;
    }

    /* Hide scrollbar but keep functionality */
    .scrollbar-hide {
      -ms-overflow-style: none; /* IE and Edge */
      scrollbar-width: none; /* Firefox */
    }

    .scrollbar-hide::-webkit-scrollbar {
      display: none; /* Chrome, Safari and Opera */
    }

    /* Hero elements initial state - hidden and shifted down */
    #hero-title,
    #hero-subtitle {
      opacity: 0;
    }

    #hero-avatar {
      opacity: 0;
      transform: translateY(20px);
    }

    #hero-buttons {
      opacity: 0;
      transform: translateY(20px);
    }

    #gallery-section {
      opacity: 0;
      transform: translateY(20px);
    }

    /* Fade-up animation initial state */
    [data-fade-up] {
      opacity: 0;
      transform: translateY(20px);
    }

    /* Text animation styling */
    .word-wrapper {
      display: inline-block;
      opacity: 0;
      filter: blur(10px);
      transform: translateY(10px);
    }
  </style>

  <script>
    import { animate, scroll } from 'motion';

    // Wait for DOM to be ready
    document.addEventListener('DOMContentLoaded', () => {
      // Function to split text into words and wrap each in a span
      const splitTextIntoWords = (element: HTMLElement) => {
        const text = element.innerHTML;
        const parser = new DOMParser();
        const doc = parser.parseFromString(text, 'text/html');

        const processNode = (node: Node): Node[] => {
          if (node.nodeType === Node.TEXT_NODE) {
            const words = node.textContent?.trim().split(/(\s+)/) || [];
            return words.map((word) => {
              if (word.trim() === '') {
                // Preserve whitespace
                return document.createTextNode(word);
              }
              const span = document.createElement('span');
              span.className = 'word-wrapper';
              span.textContent = word;
              return span;
            });
          } else if (node.nodeType === Node.ELEMENT_NODE) {
            const element = node as HTMLElement;
            const newElement = element.cloneNode(false) as HTMLElement;
            Array.from(element.childNodes).forEach((child) => {
              processNode(child).forEach((newChild) => {
                newElement.appendChild(newChild);
              });
            });
            return [newElement];
          }
          return [node.cloneNode(true)];
        };

        element.innerHTML = '';
        Array.from(doc.body.childNodes).forEach((node) => {
          processNode(node).forEach((newNode) => {
            element.appendChild(newNode);
          });
        });
      };

      // Animate text with blur fade-in effect
      const animateText = async (selector: string, delayOffset = 0) => {
        const element = document.querySelector(selector) as HTMLElement;
        if (!element) return;

        // Make parent element visible immediately
        element.style.opacity = '1';

        splitTextIntoWords(element);
        const words = element.querySelectorAll('.word-wrapper');

        // Animate each word with stagger
        words.forEach((word, index) => {
          animate(
            word as HTMLElement,
            {
              opacity: [0, 1],
              filter: ['blur(10px)', 'blur(0px)'],
              y: [10, 0],
            },
            {
              duration: 0.6,
              delay: delayOffset + index * 0.08,
              easing: [0.22, 1, 0.36, 1], // Custom ease-out curve
            } as any
          );
        });

        // Return promise that resolves when animation is complete
        return new Promise((resolve) => {
          setTimeout(
            () => {
              resolve(true);
            },
            delayOffset + words.length * 80 + 600
          );
        });
      };

      // Start text animations immediately
      animateText('#hero-title', 0);

      // Start subtitle animation while title is still animating for continuous flow
      setTimeout(() => {
        animateText('#hero-subtitle', 0);
      }, 400); // Start subtitle after first few words of title

      // Animate hero elements with fade-in and slide-up after text animations
      setTimeout(() => {
        const heroAvatar = document.querySelector('#hero-avatar') as HTMLElement;
        const heroButtons = document.querySelector('#hero-buttons') as HTMLElement;
        const gallerySection = document.querySelector('#gallery-section') as HTMLElement;

        if (heroAvatar) {
          animate(
            heroAvatar,
            {
              opacity: [0, 1],
              y: [20, 0],
            },
            {
              duration: 0.8,
              easing: 'ease-out',
            } as any
          );
        }

        if (heroButtons) {
          animate(
            heroButtons,
            {
              opacity: [0, 1],
              y: [20, 0],
            },
            {
              duration: 0.8,
              delay: 0.15,
              easing: 'ease-out',
            } as any
          );
        }

        if (gallerySection) {
          animate(
            gallerySection,
            {
              opacity: [0, 1],
              y: [20, 0],
            },
            {
              duration: 0.8,
              delay: 0.3,
              easing: 'ease-out',
            } as any
          );
        }
      }, 2100); // Delay after text animations complete

      // Animate the pulsating rings
      const animatePulse = (selector: string) => {
        const element = document.querySelector(selector);
        if (element) {
          animate(
            element as HTMLElement,
            {
              scale: [1, 1.4],
              opacity: [0.7, 0],
            },
            {
              duration: 1.5,
              repeat: Infinity,
              easing: 'ease-out',
            } as any
          );
        }
      };

      // Start animations with staggered delays for a continuous pulse effect
      animatePulse('#pulse-ring-1');
      // animatePulse('#pulse-ring-2', 1);

      // Animate buttons on hover
      const animateButton = (buttonId: string) => {
        const button = document.querySelector(buttonId);
        if (!button) return;

        button.addEventListener('mouseenter', () => {
          animate(button as HTMLElement, { scale: 1.05 }, { duration: 0.3, easing: 'ease-out' } as any);
        });

        button.addEventListener('mouseleave', () => {
          animate(button as HTMLElement, { scale: 1 }, { duration: 0.3, easing: 'ease-out' } as any);
        });
      };

      animateButton('#book-call-btn');
      animateButton('#view-pricing-btn');

      // Horizontal scroll animation based on vertical scroll
      const galleryScroll = document.querySelector('#gallery-scroll') as HTMLElement;
      const gallerySection = document.querySelector('#gallery-section') as HTMLElement;

      if (galleryScroll && gallerySection) {
        // Scroll 250 pixels to the left as you scroll down
        scroll(
          animate(galleryScroll, {
            x: [0, -350],
          }),
          {
            target: gallerySection,
            offset: ['start end', 'end start'], // Start when section enters viewport, end when it leaves
          }
        );
      }

      // Universal fade-up animation for any element with data-fade-up attribute
      const fadeUpElements = document.querySelectorAll('[data-fade-up]');

      const fadeUpObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              // Trigger the animation once when element comes into view
              animate(
                entry.target as HTMLElement,
                {
                  opacity: [0, 1],
                  y: [40, 0],
                },
                {
                  duration: 0.4,
                  easing: 'ease-in-out',
                } as any
              );
              // Unobserve after animation triggers so it only happens once
              fadeUpObserver.unobserve(entry.target);
            }
          });
        },
        {
          threshold: 0.2, // Trigger when 20% of the element is visible
        }
      );

      // Observe all elements with data-fade-up attribute
      fadeUpElements.forEach((element) => {
        fadeUpObserver.observe(element);
      });
    });
  </script>
</Layout>
